<!DOCTYPE html>
<html xml:lang="es" lang="es">

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta content="true" name="HandheldFriendly">
    <meta content="width" name="MobileOptimized">
    <meta content="width=device-width" name="viewport">
    <meta content="width=768, minimum-scale=1.0, maximum-scale=1.0" name="viewport">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    <meta content="telephone=no" name="format-detection">
    <title>OpenAds Local Environment Tester</title>
    <link href="https://fonts.googleapis.com/css?family=Signika" rel="stylesheet">
    <link rel="stylesheet" href="css/normalize.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/darcula.min.css"/>
    <link rel="stylesheet" href="css/demo.css?10"/>
    <script type="text/javascript" src="lib/highlight.min.js"></script>
    <script type="text/javascript" src="lib/scrollspy.js"></script>
</head>


<body div id="js-scrollspy">

    <nav class="js-scrollspy-nav nav">
        <ul id="ad-Demo">
            <li><a href="#one">Initialize</a></li>
            <li><a href="#two">Create Positions</a></li>
            <li><a href="#three">Display Positions</a></li>
            <li><a href="#four">Refresh Positions</a></li>
        </ul>
        <button class="ad-DemoButton">DEMO</button>
    </nav>
    <main class="js-scrollspy-content main">
        <div class="canvas">
            <section id="one">
                <p>Initialize</p>
                <pre><code>import OpenAds from '../openads/infrastructure/bootstrap/index'

    const openAds = OpenAds.init({config: {
      Sources: {
        AppNexus: {
          Member: 3397
        }
      }
    }})
    }</code></pre>
            </section>
            <section id="two">
                <p>Create Positions</p>

                <pre id="two"><code>const positionOne = openAds.addPosition({
  id: 'ad1',
  name: 'ad number one',
  source: 'AppNexus',
  placement: 'es-cn-wph-ocasion-list-x_65',
  segmentation: {
    'es-sch-ads_name_page': 'cochesnet/ocasion/listado',
    'es-sch-event_name': 'list',
    'aa-sch-country_code': 'es',
    'aa-sch-supply_type': 'wph',
    'es-sch-section': 'ocasion',
    'aa-sch-page_type': 'list',
    'es-sch-adformat': 'x65'
  },
  sizes: [[300, 250], [320, 250]]
})

const positionTwo = openAds.addPosition({
  id: 'ad2',
  name: 'ad number two',
  source: 'AppNexus',
  placement: 'es-cn-wde-ocasion-list-top_2',
  segmentation: {
    'es-sch-ads_name_page': 'cochesnet/ocasion/listado',
    'es-sch-event_name': 'list',
    'aa-sch-country_code': 'es',
    'aa-sch-supply_type': 'wde',
    'es-sch-section': 'ocasion',
    'aa-sch-page_type': 'list',
    'es-sch-adformat': 'top2'
  },
  sizes: [[728, 90], [1, 1], [728, 161]]
})
  </code></pre>
                <div id="ad1"></div>
                <div id="ad2"></div>
            </section>
            <section id="three">
                <p>Display Positions</p>
                <pre id="three">
                    <code>openAds.addPosition({
  id: 'ad1',
  name: 'ad number one',
  source: 'AppNexus',
  placement: 'es-cn-wph-ocasion-list-x_65',
  segmentation: {
    'es-sch-ads_name_page': 'cochesnet/ocasion/listado',
    'es-sch-event_name': 'list',
    'aa-sch-country_code': 'es',
    'aa-sch-supply_type': 'wph',
    'es-sch-section': 'ocasion',
    'aa-sch-page_type': 'list',
    'es-sch-adformat': 'x65'
  },
  sizes: [[300, 250], [320, 250]]
})
  .then(position => openAds.displayPosition({id: position.id}))
                    </code>
                </pre>



            </section>
            <section id="four">
                <p>Refresh Positions</p>
                <pre id="four">
                <code>
openAds.addPosition({
    id: 'ad1_with_error',
    name: 'ad_error',
    source: 'AppNexus',
    placement: 'placement_not_found',
    segmentation: {
    'es-sch-ads_name_page': 'segmentation/not/found'
    },
    sizes: [[300, 250], [320, 250]]
})
.then(position => openAds.displayPosition({id: position.id}))
.catch(error =>
    openAds.refreshPosition({
    id: error.position.id,
    position: {
        name: 'new name',
        placement: 'new-placement-to-update',
        segmentation: {
        'es-sch-ads_name_page': 'new/segmentation/to/page',
        }
    }
})
.then(position => openAds.displayPosition({id: position.id}))
)
                </code>
                </pre>

                <div id="ad_refresh"></div>
            </section>

        </div>
    </main>
</div>
<script type="text/javascript" src="js/PageDemo.js?2"></script>
</body>
</html>
